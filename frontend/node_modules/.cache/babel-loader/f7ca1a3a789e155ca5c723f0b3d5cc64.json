{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios, { AxiosError } from \"axios\";\nexport const API = axios.create({\n  baseURL: 'http://localhost:8080',\n  headers: {\n    Accept: \"application/json\"\n  }\n});\n\nconst errorFunc = error => {\n  if (error instanceof AxiosError && error.response) {\n    if (typeof error.response.data.message !== 'undefined') {\n      return error.response.data.message;\n    }\n\n    return error.response.data;\n  }\n\n  throw error;\n};\n\nexport const AuthService = {\n  signIn: createAsyncThunk('AUTH/signIn', async (arg, _ref) => {\n    let {\n      rejectWithValue\n    } = _ref;\n\n    try {\n      const {\n        userId,\n        password\n      } = arg;\n      const {\n        data\n      } = await API.post('/auth/signin', {\n        \"userId\": userId,\n        \"password\": password\n      });\n      return data;\n    } catch (error) {\n      return rejectWithValue(errorFunc(error));\n    }\n  }),\n  signUp: createAsyncThunk('AUTH/signUp', async (arg, _ref2) => {\n    let {\n      rejectWithValue\n    } = _ref2;\n\n    try {\n      const {\n        userId,\n        password\n      } = arg;\n      const {\n        data\n      } = await API.post('/auth/signup', {\n        \"userId\": userId,\n        \"password\": password\n      });\n      return data;\n    } catch (error) {\n      return rejectWithValue(errorFunc(error));\n    }\n  })\n};","map":{"version":3,"names":["createAsyncThunk","axios","AxiosError","API","create","baseURL","headers","Accept","errorFunc","error","response","data","message","AuthService","signIn","arg","rejectWithValue","userId","password","post","signUp"],"sources":["/Users/kimgeonil/Desktop/project/redux-toolkit/src/services/authService.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios, {AxiosError} from \"axios\";\n\nexport type UserData = {\n    userId: string,\n    password: string\n}\n\nexport const API = axios.create({\n    baseURL: 'http://localhost:8080',\n    headers: {\n        Accept: \"application/json\",\n    },\n});\n\nconst errorFunc = (error: any) => {\n    if (error instanceof AxiosError && error.response) {\n        if (typeof error.response.data.message !== 'undefined') {\n            return error.response.data.message;\n        }\n        return error.response.data;\n    }\n    throw error;\n}\n\nexport const AuthService = {\n    signIn: createAsyncThunk(\n        'AUTH/signIn',\n        async (arg: UserData, { rejectWithValue }) => {\n            try {\n                const { userId, password } = arg;\n                const { data } = await API.post('/auth/signin', {\n                    \"userId\": userId,\n                    \"password\": password\n                })\n                return data;\n            } catch (error) {\n                return rejectWithValue(errorFunc(error))\n            }\n        }\n    ),\n    signUp: createAsyncThunk(\n        'AUTH/signUp',\n        async (arg: UserData, { rejectWithValue }) => {\n            try {\n                const { userId, password } = arg;\n                const { data } = await API.post('/auth/signup', {\n                    \"userId\": userId,\n                    \"password\": password\n                })\n                return data;\n            } catch (error) {\n                return rejectWithValue(errorFunc(error))\n            }\n        }\n    )\n}"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AAOA,OAAO,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;EAC5BC,OAAO,EAAE,uBADmB;EAE5BC,OAAO,EAAE;IACLC,MAAM,EAAE;EADH;AAFmB,CAAb,CAAZ;;AAOP,MAAMC,SAAS,GAAIC,KAAD,IAAgB;EAC9B,IAAIA,KAAK,YAAYP,UAAjB,IAA+BO,KAAK,CAACC,QAAzC,EAAmD;IAC/C,IAAI,OAAOD,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,OAA3B,KAAuC,WAA3C,EAAwD;MACpD,OAAOH,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,OAA3B;IACH;;IACD,OAAOH,KAAK,CAACC,QAAN,CAAeC,IAAtB;EACH;;EACD,MAAMF,KAAN;AACH,CARD;;AAUA,OAAO,MAAMI,WAAW,GAAG;EACvBC,MAAM,EAAEd,gBAAgB,CACpB,aADoB,EAEpB,OAAOe,GAAP,WAA8C;IAAA,IAAxB;MAAEC;IAAF,CAAwB;;IAC1C,IAAI;MACA,MAAM;QAAEC,MAAF;QAAUC;MAAV,IAAuBH,GAA7B;MACA,MAAM;QAAEJ;MAAF,IAAW,MAAMR,GAAG,CAACgB,IAAJ,CAAS,cAAT,EAAyB;QAC5C,UAAUF,MADkC;QAE5C,YAAYC;MAFgC,CAAzB,CAAvB;MAIA,OAAOP,IAAP;IACH,CAPD,CAOE,OAAOF,KAAP,EAAc;MACZ,OAAOO,eAAe,CAACR,SAAS,CAACC,KAAD,CAAV,CAAtB;IACH;EACJ,CAbmB,CADD;EAgBvBW,MAAM,EAAEpB,gBAAgB,CACpB,aADoB,EAEpB,OAAOe,GAAP,YAA8C;IAAA,IAAxB;MAAEC;IAAF,CAAwB;;IAC1C,IAAI;MACA,MAAM;QAAEC,MAAF;QAAUC;MAAV,IAAuBH,GAA7B;MACA,MAAM;QAAEJ;MAAF,IAAW,MAAMR,GAAG,CAACgB,IAAJ,CAAS,cAAT,EAAyB;QAC5C,UAAUF,MADkC;QAE5C,YAAYC;MAFgC,CAAzB,CAAvB;MAIA,OAAOP,IAAP;IACH,CAPD,CAOE,OAAOF,KAAP,EAAc;MACZ,OAAOO,eAAe,CAACR,SAAS,CAACC,KAAD,CAAV,CAAtB;IACH;EACJ,CAbmB;AAhBD,CAApB"},"metadata":{},"sourceType":"module"}