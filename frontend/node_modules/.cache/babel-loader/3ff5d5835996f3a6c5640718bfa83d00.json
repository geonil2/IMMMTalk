{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const API = axios.create({\n  baseURL: 'https://dummy.restapiexample.com/api/v1',\n  headers: {\n    Accept: \"application/json\"\n  }\n});\n\nconst errorHandler = error => {\n  if (error.response.data.message) {\n    return error.response.data.message;\n  }\n\n  return error.response.data;\n};\n\nexport const DummyService = {\n  getEmployers: createAsyncThunk('dummy/GETEMPLOYEES', async (arg, _ref) => {\n    let {\n      dispatch,\n      rejectWithValue\n    } = _ref;\n\n    try {\n      const {\n        data\n      } = await API.get('/employees');\n      dispatch(DummyService.getEmployer(1));\n      return data.data;\n    } catch (error) {\n      return rejectWithValue(errorHandler(error));\n    }\n  }),\n  getEmployer: createAsyncThunk('dummy/GETEMPLOYEE', async (id, _ref2) => {\n    let {\n      rejectWithValue\n    } = _ref2;\n\n    try {\n      const {\n        data\n      } = await API.get(`/employee/${id}`);\n      return data.data;\n    } catch (error) {\n      return rejectWithValue(errorHandler(error));\n    }\n  })\n};","map":{"version":3,"names":["createAsyncThunk","axios","API","create","baseURL","headers","Accept","errorHandler","error","response","data","message","DummyService","getEmployers","arg","dispatch","rejectWithValue","get","getEmployer","id"],"sources":["/Users/kimgeonil/Desktop/project/redux-toolkit/src/services/dummyService.ts"],"sourcesContent":["import {createAsyncThunk} from \"@reduxjs/toolkit\";\nimport axios, {AxiosError} from \"axios\";\n\nexport const API = axios.create({\n    baseURL: 'https://dummy.restapiexample.com/api/v1',\n    headers: {\n        Accept: \"application/json\",\n    },\n});\n\nconst errorHandler = (error: any) => {\n    if (error.response.data.message) {\n        return error.response.data.message;\n    }\n    return error.response.data;\n}\n\n\nexport const DummyService = {\n    getEmployers: createAsyncThunk(\n        'dummy/GETEMPLOYEES',\n        async (arg, { dispatch, rejectWithValue }) => {\n            try {\n                const { data } = await API.get('/employees');\n                dispatch(DummyService.getEmployer(1));\n                return data.data;\n            } catch (error) {\n                return rejectWithValue(errorHandler(error))\n            }\n        }\n    ),\n    getEmployer: createAsyncThunk(\n        'dummy/GETEMPLOYEE',\n        async (id: number, { rejectWithValue }) => {\n            try {\n                const { data } = await API.get(`/employee/${id}`);\n                return data.data;\n            } catch (error) {\n                return rejectWithValue(errorHandler(error))\n            }\n        }\n    )\n}"],"mappings":"AAAA,SAAQA,gBAAR,QAA+B,kBAA/B;AACA,OAAOC,KAAP,MAAgC,OAAhC;AAEA,OAAO,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;EAC5BC,OAAO,EAAE,yCADmB;EAE5BC,OAAO,EAAE;IACLC,MAAM,EAAE;EADH;AAFmB,CAAb,CAAZ;;AAOP,MAAMC,YAAY,GAAIC,KAAD,IAAgB;EACjC,IAAIA,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,OAAxB,EAAiC;IAC7B,OAAOH,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,OAA3B;EACH;;EACD,OAAOH,KAAK,CAACC,QAAN,CAAeC,IAAtB;AACH,CALD;;AAQA,OAAO,MAAME,YAAY,GAAG;EACxBC,YAAY,EAAEb,gBAAgB,CAC1B,oBAD0B,EAE1B,OAAOc,GAAP,WAA8C;IAAA,IAAlC;MAAEC,QAAF;MAAYC;IAAZ,CAAkC;;IAC1C,IAAI;MACA,MAAM;QAAEN;MAAF,IAAW,MAAMR,GAAG,CAACe,GAAJ,CAAQ,YAAR,CAAvB;MACAF,QAAQ,CAACH,YAAY,CAACM,WAAb,CAAyB,CAAzB,CAAD,CAAR;MACA,OAAOR,IAAI,CAACA,IAAZ;IACH,CAJD,CAIE,OAAOF,KAAP,EAAc;MACZ,OAAOQ,eAAe,CAACT,YAAY,CAACC,KAAD,CAAb,CAAtB;IACH;EACJ,CAVyB,CADN;EAaxBU,WAAW,EAAElB,gBAAgB,CACzB,mBADyB,EAEzB,OAAOmB,EAAP,YAA2C;IAAA,IAAxB;MAAEH;IAAF,CAAwB;;IACvC,IAAI;MACA,MAAM;QAAEN;MAAF,IAAW,MAAMR,GAAG,CAACe,GAAJ,CAAS,aAAYE,EAAG,EAAxB,CAAvB;MACA,OAAOT,IAAI,CAACA,IAAZ;IACH,CAHD,CAGE,OAAOF,KAAP,EAAc;MACZ,OAAOQ,eAAe,CAACT,YAAY,CAACC,KAAD,CAAb,CAAtB;IACH;EACJ,CATwB;AAbL,CAArB"},"metadata":{},"sourceType":"module"}