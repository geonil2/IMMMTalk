{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { API } from \"./api\";\nexport const AuthService = {\n  signIn: createAsyncThunk('AUTH/SIGNIN', async (arg, _ref) => {\n    let {\n      rejectWithValue\n    } = _ref;\n\n    try {\n      const {\n        userId,\n        password\n      } = arg;\n      const {\n        data\n      } = await API.post('/authsignin', {\n        \"userId\": userId,\n        \"password\": password\n      });\n      return data;\n    } catch (error) {\n      if (!error.response) {\n        throw error;\n      }\n\n      return rejectWithValue(error.response.data.message);\n    }\n  })\n}; // if (typeof error.response.data.message !== \"undefined\") {\n//     if (error.response.data.message.includes(\"expired\")) {\n//         store.dispatch(logout());\n//         throw error;\n//     }\n// }","map":{"version":3,"names":["createAsyncThunk","API","AuthService","signIn","arg","rejectWithValue","userId","password","data","post","error","response","message"],"sources":["/Users/kimgeonil/Desktop/project/redux-toolkit/src/services/authService.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios, {AxiosError} from \"axios\";\nimport {API} from \"./api\";\n\nexport type UserData = {\n    userId: string,\n    password: string\n}\n\nexport const AuthService = {\n    signIn: createAsyncThunk(\n        'AUTH/SIGNIN',\n        async (arg: UserData, { rejectWithValue }) => {\n            try {\n                const { userId, password } = arg;\n                const { data } = await API.post('/authsignin', {\n                    \"userId\": userId,\n                    \"password\": password\n                })\n                return data\n            } catch (error) {\n                if(!error.response){\n                    throw error;\n                }\n                return rejectWithValue(error.response.data.message);\n            }\n        }\n    )\n}\n\n// if (typeof error.response.data.message !== \"undefined\") {\n//     if (error.response.data.message.includes(\"expired\")) {\n//         store.dispatch(logout());\n//         throw error;\n//     }\n// }"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AAEA,SAAQC,GAAR,QAAkB,OAAlB;AAOA,OAAO,MAAMC,WAAW,GAAG;EACvBC,MAAM,EAAEH,gBAAgB,CACpB,aADoB,EAEpB,OAAOI,GAAP,WAA8C;IAAA,IAAxB;MAAEC;IAAF,CAAwB;;IAC1C,IAAI;MACA,MAAM;QAAEC,MAAF;QAAUC;MAAV,IAAuBH,GAA7B;MACA,MAAM;QAAEI;MAAF,IAAW,MAAMP,GAAG,CAACQ,IAAJ,CAAS,aAAT,EAAwB;QAC3C,UAAUH,MADiC;QAE3C,YAAYC;MAF+B,CAAxB,CAAvB;MAIA,OAAOC,IAAP;IACH,CAPD,CAOE,OAAOE,KAAP,EAAc;MACZ,IAAG,CAACA,KAAK,CAACC,QAAV,EAAmB;QACf,MAAMD,KAAN;MACH;;MACD,OAAOL,eAAe,CAACK,KAAK,CAACC,QAAN,CAAeH,IAAf,CAAoBI,OAArB,CAAtB;IACH;EACJ,CAhBmB;AADD,CAApB,C,CAqBP;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}